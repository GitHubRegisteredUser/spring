<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/html"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" type="image/png"
          href="https://upload.wikimedia.org/wikipedia/commons/thumb/7/79/Spring_Boot.svg/120px-Spring_Boot.svg.png">
    <title>User page</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
          crossorigin="anonymous">
</head>
<body class="bg-light overflow-scroll">
<nav class="navbar navbar-expand fixed-top navbar-dark bg-black bg-opacity-75">
    <div class=container-fluid>
        <a class="navbar-brand">
            <span class="fw-bold ms-1"
                  sec:authentication="principal.username">
            </span>
            with roles:
            <span th:object="${#authentication.authorities}"
                  th:text="${#strings
                  .substring(#authentication.authorities, 1, #strings.length(#authentication.authorities) - 1)
                  .replace('ROLE_', '')}">
            </span>
            <a class="nav-link text-white-50 me-1" href="/logout">Logout</a>
        </a>
    </div>
</nav>
<div class="container-fluid">
    <div class="row">
        <div class="col-2">
            <nav class="nav flex-column min-vh-100 bg-white"
                 style="margin-left: -12px; padding-top: 75px">
                <a class="nav-link rounded-1"
                   sec:authorize="hasRole('ROLE_ADMIN')"
                   href="/admin">Admin</a>
                <a class="nav-link bg-primary text-white rounded-1"
                   href="/user">User</a>
            </nav>
        </div>
        <div class="col-10" style="margin-top: 75px">
            <div class="row mb-1">
                <h1>User information-page</h1>
            </div>
            <h5 class="text-dark border rounded-top-1 px-3 py-2 me-3">
                About user</h5>
            <div class="row bg-white border rounded-bottom-1 p-3 ms-0 me-3"
                 style="margin-top: -8px">
                <table class="table table-striped">
                    <thead>
                    <tr class="border-top">
                        <th>Id</th>
                        <th>First name</th>
                        <th>Last name</th>
                        <th>Age</th>
                        <th>Email</th>
                        <th>Roles</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:object="${user}">
                        <td class="border-bottom-0"
                            th:text="${user.id}"></td>
                        <td class="border-bottom-0"
                            th:text="${user.firstName}"></td>
                        <td class="border-bottom-0"
                            th:text="${user.lastName}"></td>
                        <td class="border-bottom-0"
                            th:text="${user.age}"></td>
                        <td class="border-bottom-0"
                            th:text="${user.username}"></td>
                        <td class="border-bottom-0"
                            th:text="${#strings
                            .substring(user.roles, 1, #strings.length(user.roles) - 1)
                            .replace('ROLE_', '')}"></td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
</body>
</html>
